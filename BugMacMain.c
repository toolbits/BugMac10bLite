#include <SetUpA4.h>#include <Sound.h>//Routinesvoid			main				(void);void			StartingBug			(void);void main(void){	Handle		INITResH;		RememberA0();	SetUpA4();		if((INITResH = Get1Resource('INIT',0)) != NULL){		DetachResource(INITResH);		HLockHi(INITResH);				HideCursor();		StartingBug();				while(!Button());		ShowCursor();	}	else SysBeep(0);		RestoreA4();	return;}/*main*//****************************************************/////				StartingBugRoutine///****************************************************/typedef struct QuickDraw{	char private[76];	long randSeed;	BitMap screenBits;	Cursor arrow;	Pattern dkGray;	Pattern ltGray;	Pattern gray;	Pattern black;	Pattern white;	GrafPtr thePort;} QuickDraw;#ifndef	CurrentA5#define	CurrentA5	0x904#endifvoid StartingBug(void){	CGrafPtr		myPort;	QuickDraw		qdGlobals;	Rect			SadMacRect;	Rect			NumberRect;	Point			MidScreen;	CIconHandle		SadMacIcon;	CIconHandle		NumberIcon;	Ptr				localA5;	Ptr				savedA5;	SndListHandle	SadMacSound;	short			i;	short			saveVolume;	 	asm{		move.l  A5,savedA5		lea  	localA5,A5		move.l  A5,CurrentA5	}		InitGraf(&qdGlobals.thePort);	myPort = (CGrafPtr)NewPtr(sizeof(CGrafPort));	OpenCPort(myPort);  	  	SadMacIcon = GetCIcon(-4064);  	NumberIcon = GetCIcon(-4060);  	  	MidScreen.h = (myPort->portRect.right - myPort->portRect.left) / 2;  	MidScreen.v = (myPort->portRect.bottom - myPort->portRect.top) / 2;   	  	FillRect(&(myPort->portRect),&(qdGlobals.black));  	SadMacRect.left = MidScreen.h - 16;  	SadMacRect.right = SadMacRect.left + 32;  	SadMacRect.top = MidScreen.v - 32;  	SadMacRect.bottom = SadMacRect.top + 32;  	  	PlotCIcon(&SadMacRect,SadMacIcon);  	  	NumberRect.left = MidScreen.h - 39;  	NumberRect.right = NumberRect.left + 8;  	NumberRect.top = MidScreen.v + 4;  	NumberRect.bottom = NumberRect.top + 8;  	for(i=0;i<8;i++){  		PlotCIcon(&NumberRect,NumberIcon);  		OffsetRect(&NumberRect,10,0);  	}  	NumberRect.left = MidScreen.h - 39;  	NumberRect.right = NumberRect.left + 8;  	NumberRect.top = MidScreen.v + 14;  	NumberRect.bottom = NumberRect.top + 8;  	for(i=0;i<8;i++){  		PlotCIcon(&NumberRect,NumberIcon);  		OffsetRect(&NumberRect,10,0);  	}  	  	DisposeCIcon(SadMacIcon);  	DisposeCIcon(NumberIcon);	CloseCPort((CGrafPtr)myPort);	DisposePtr((Ptr)myPort);	SadMacSound	= (SndListHandle)Get1Resource('snd ',-4064);	HLockHi((Handle)SadMacSound);	GetSoundVol(&saveVolume);	SetSoundVol(7);	SndPlay(NULL,SadMacSound,false);	SetSoundVol(saveVolume);	HUnlock((Handle)SadMacSound);	DisposeHandle((Handle)SadMacSound);		asm{		move.l  savedA5,A5		move.l  A5,CurrentA5	}	return;}/*StartingBug*/